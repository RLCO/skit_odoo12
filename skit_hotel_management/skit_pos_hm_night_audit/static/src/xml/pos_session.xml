<?xml version="1.0" encoding="UTF-8"?>
<templates id="template" xml:space="preserve">
	<!-- Session Button in Header Panel -->
	<t t-extend='OrderSelectorWidget'>
        <t t-jquery='.deleteorder-button' t-operation='after'>			  
        	<div class="session" title="Sessions">
	        	 <span class="order-button square SessionButton">
	                 <i class='fa fa-cubes' />
	            </span>  
            </div>
            <div class="night_audit_session" title="Night Audit">
	        	 <span class="order-button square NightAuditButton">
	                 <div class="">Night Audit</div>
	            </span>  
            </div>  
               
        </t>
    </t>
    
    <!--  Set Closing Balance Button - POPUP Widget  -->
    <t t-name="PopupBalanceWidget">
	    <div class="modal-dialog clientlist-screen">     
            <div class="popup popup-textinput balance-popup">
                <p class="title"><t t-esc=" widget.options.title || '' " /></p>
                <p class="body"><t t-esc=" widget.options.body || '' " /></p>
              	<div class='session-balance'>   	
					<t t-if="widget.options.pos_cashbox_line">	                 
			        	<table class="client-list" id="cashbox-grid">   
			                <thead>
		                	 	<th>Coin/Bill Value</th>
				                <th>Number of Coins/Bills</th>
				                <th>SubTotal</th>
				                <th></th>	
		                	</thead>
		                	<tbody class="client-list-contents">
		              			<t t-set="i" t-value="0" />
				                <t t-foreach='widget.options.pos_cashbox_line' t-as='cashbox'>
			                        <tr t-att-id="i">
			                             <td class="display_none">
			                             	<t t-esc="cashbox.id" />
			                             </td>
			                             <td> 
				                         	<input class="cashbox-edit" name='coin_value' type="text" t-att-value="cashbox.coin_value" t-att-id='"cashbox_" + i + "_coin_value"'></input>
				                         </td>
				                         <td> 
				                         	<input class="cashbox-edit" name='number' type="text" t-att-value="cashbox.number" t-att-id='"cashbox_" + i + "_number"' onkeypress='return (event.charCode &gt;= 48 &amp;&amp; event.charCode &lt;= 57) || (event.charCode == 0 || event.charCode == 08 || event.charCode == 127)'></input>
				                         </td>			                        			                            
				                         <td t-att-id='"cashbox_" + i + "_subtotal"'> 
				                         	<t t-esc="cashbox.subtotal" />
				                         </td>	
				                         <td> 
				                         	<t t-if="cashbox.is_delete">
				                         		<span class="cashbox-delete fa fa-trash-o" name="delete"></span>
				                         	</t> 
								         </td>	  	                            
			                        </tr>	
			                    	<t t-set="i" t-value="i+1" />   
				                </t>
				                <t t-if="i > 0">
					            	<tr>	   
					              		<td>  
					                		<span class="cashbox-add fa fa-plus" name="add"> </span> 
								  		</td>	                         
					               		<td>Total</td>	
					                	<td class="cashbox-total" id="cashbox_total">
					                          <t t-esc="widget.options.pos_cashbox_line[i-1].total" />
					               		</td>
					                    <td></td>		                           
				                    </tr>
				                </t>    
		                	</tbody>
		                </table>	                 
	                 </t>                
                </div>
               	<div class="footer">
                   	<div class="button confirm">
                       	Confirm
                   	</div>
                   	<div class="button cancel">
                       	Cancel
                   	</div>
               	</div>
            </div>
        </div>
    </t>
    
    <!--  PutMoneyIn / TakeMoneyOut Button - POPUP Widget  -->
    <t t-name="PopupMoneyWidget">
	    <div class="modal-dialog">     
            <div class="popup popup-text">
                <p class="title"><t t-esc=" widget.options.title || '' " /></p>
                <p class="body"><t t-esc=" widget.options.body || '' " /></p>
              	<div>   	
	                <div class="box">
	                     <span class='label'>Reason* </span> 
	                     <input class='reason' type="text" placeholder="Reason" required="Mandatory" />
	                </div>
	                <div class="box">
	                    <span class='label'>Amount*</span>
	                    <input class="amount" type="number" value="0.00" placeholder="Amount" required="Mandatory" />
	                </div>
                </div>
               	<div class="footer">
                   	<div class="button confirm">
                       	Confirm
                   	</div>
                   	<div class="button cancel">
                       	Cancel
                   	</div>
               	</div>
            </div>
        </div>
    </t>
    
    <!-- Session Button - POPUP Widget -->
    <t t-name="PopupSessionWidget">
		<div class="modal-dialog">     
            <div class="popup popup-text session-popup">
                <p class="title session-title"><t t-esc=" widget.options.title || '' " /></p>
                <p class="body"><t t-esc=" widget.options.body || '' " /></p>
                <div class="session_form">  
	            	<t t-if="widget.options.pos_session">
	                	<t t-value="widget.options.pos_session" t-set="session" />	
	               		<t t-if="session.cash_control == true">  	                	                   	                      
	                   		<div class="pos_button_box"> 
		                        <button class="session-button PutMoneyIn">
		                        	<i class='fa fa-level-down' /> Put Money In
		                        </button>		                        
		                        <button class="session-button TakeMoneyOut">
		                        	<i class='fa fa-level-up' /> Take Money Out
		                        </button>	
		                        <button class="session-button SetClosingBalance" value="end">
		                        	<i class='fa fa-money' /> Set Closing Balance
		                        </button>
		                        <button class="session-button printstatement" value="end">
		                        	<i class='fa fa-print' /> Print
		                        </button>                        	  
	                       </div> 
	                       <button t-attf-class="EndOfSession endsessionbutton #{ session.state !='opened'  ? 'display-hide' : '' }">
		                   		End of Session
		                   </button>
		                   <button t-attf-class="endsessionbutton ValidateClosingControl validate #{ session.state !='closing_control'  ? 'display-hide' : '' }">
	                    		Validate Closing &amp; Posting Entries
	                    	</button>	
						</t>
	                    <h5>Session : <t t-esc="session.name" /></h5>
	                    <table class="session-group">	
	                   		<tbody>
	                       		<tr>
			                   		<td>
				                    	<table class="session-group text1">	                     
					                  		<tbody>
						                       	<tr><td>Responsible : </td><td><t t-esc="session.user_id[1]" /></td></tr>
						                       	<tr><td>Point of Sale : </td><td><t t-esc="session.config_id[1]" /></td></tr>
						                       	<tr><td>Available Rooms : </td><td><t t-esc="session.rooms_available" /></td></tr>
						                       	<tr><td>Reserved Rooms : </td><td><t t-esc="session.rooms_reserved" /></td></tr>
						                       	
					                       	</tbody>
					                   	</table>
					                </td>
					                <td>   
				                   		<table class="session-group text2">
						                 	<tbody>
						                    	<tr>
						                    		<td>Opening Date :</td><td><t t-esc="session.start_at" /></td>
						                    	</tr>
						                    	<tr>
						                    		<td>Hand over to :</td>
						                    		<td>
						                    			<select id ="partner_select" class="partner_select" 
						                    				 name='partner_list' >
							        						<t t-foreach="widget.options.partner_list" t-as="partner_list">
							        							<t t-if="partner_list.value == widget.options.selected_devotee_id">
																	<option  t-attf-name="#{partner_list.key}" t-att-value="partner_list.value" t-att-selected="true"><t t-esc="partner_list.key"/></option>
																</t>
																<t t-else="">
														  			<option  t-attf-name="#{partner_list.key}" t-att-value="partner_list.value"><t t-esc="partner_list.key"/></option>
													        	</t>
												        	</t>
														</select>
													</td>
												</tr>
												<tr>
													<td>
														<input type="text" name="product" value="Pen" list="productName" />
														<datalist id="productName">
														    <option value="Pen" label="the developer's choice">Pen</option>
														    <option value="Pencil">Pencil</option>
														    <option value="Paper">Paper</option>
														</datalist>
													
													</td>
												</tr>
						                 		<!-- <tr><td>Occupied Rooms : </td><td><t t-esc="session.rooms_occupied" /></td></tr>
						                       	<tr><td>Maintenance Rooms : </td><td><t t-esc="session.rooms_blocked" /></td></tr> -->
						                 	</tbody>
				                       	</table>
				            		</td>
		                 		</tr> 
		                 		<tr class="session_tr_height"></tr> 
			                   	<t t-if="session.cash_control == true">  
				             		<tr>
				                        <td>   
					                       <table class="session-group text3">
						                       <tbody> 
							                       <tr><td>Opening Balance :</td><td><t t-esc="widget.format_currency(session.cash_register_balance_start)" /></td></tr>
							                       <t t-if="session.is_admin ==1">
								                       <tr><td>+ Transactions  :</td><td><t t-esc="widget.format_currency(session.cash_register_total_entry_encoding)" /></td></tr>
								                       <tr><td>= Theoretical Closing Balance : </td><td><t t-esc="widget.format_currency(session.cash_register_balance_end)" /></td></tr>
							                       </t>
						                       </tbody>
					                       </table>
					                    </td>
						                <td>   
					                    	<table class="session-group text4">
						                    	<tbody>
						                       		<t t-if="session.is_admin ==1">
						                       			<tr><td> Real Closing Balance :</td><td><t t-esc="widget.format_currency(session.cash_register_balance_end_real)" /></td></tr>
						                       		</t>
						                       </tbody>
					                       	</table>
					                  	</td>
				                   	</tr> 
				                   	<tr>
				                   		<td></td>
				                   		<td>
					                   		<t t-if="session.is_admin ==1">
						                   		<table class="session-group text5">
							                		<tbody>			                      
							                      		<tr><td> Difference :</td><td><t t-esc="widget.format_currency(session.cash_register_difference)" /></td></tr>	
							                      	</tbody>
						                   		</table>
					                       	</t>
				                   		</td>
				                   	</tr>
			              		</t>  
		                   	</tbody>
		          		</table>
	              	</t>                            		
               	</div>
            	<div class="footer">
            		<div class="button cancel">
               			Cancel
                  	</div>
              	</div>
        	</div>
        </div>
    </t>
    
	<t t-name="SessionDataWidget">
		<t t-if="session">     
			<t t-if="session.cash_control == true">  	                	                   	                      
				<div class="pos_button_section">
		   			<button class="session-button endsessionbutton PutMoneyIn">
		    			<i class='fa fa-level-down' /> Put Money In
		    		</button>		                        
		     		<button class="session-button endsessionbutton TakeMoneyOut">
		    			<i class='fa fa-level-up' /> Take Money Out
		  			</button>	
		 			<button class="session-button endsessionbutton SetClosingBalance" value="end">
		       			<i class='fa fa-money' /> Set Closing Balance
		     		</button>
		 			<button class="session-button endsessionbutton printstatement" value="end">
		      			<i class='fa fa-print' /> Print
		      		</button> 
	      			<button t-attf-class="EndOfSession endsessionbutton #{ session.state !='opened'  ? 'display-hide' : '' }">
		        		End of Session
		    		</button>
		 			<button t-attf-class="endsessionbutton ValidateClosingControl vcpentries validate #{ session.state !='closing_control'  ? 'display-hide' : '' }">
	           			Validate Closing &amp; Posting Entries
	      			</button>	
	     		</div>
			</t>
			<div class="session_form"> 
				<table class="session-group">	
	   				<tbody>
	         			<tr>
			   				<td>
				     			<table class="session-group text1">	                     
					   				<tbody>
										<tr><td>Responsible : </td><td><t t-esc="session.user_id[1]" /></td></tr>
						             	<tr><td>Point of Sale : </td><td><t t-esc="session.config_id[1]" /></td></tr>
						           		<tr><td>Available Rooms : </td><td><t t-esc="session.rooms_available" /></td></tr>
						       			<tr><td>Reserved Rooms : </td><td><t t-esc="session.rooms_reserved" /></td></tr>
					            	</tbody>
					     		</table>
							</td>
					    	<td>   
				  				<table class="session-group text2">
									<tbody>
										<tr>
											<td>Opening Date :</td><td><t t-esc="session.start_at" /></td>
						     			</tr>
						           		<tr>
						      				<td>Hand over to :</td>
											<td>
												<input name="partners" list="partner_list" class="partner_datalist"/>
												<datalist id="partner_list">
													<t t-foreach="partners_all" t-as="partner">
														<option  t-attf-name="#{partner.name}" t-att-value="partner.id"><t t-esc="partner.name"/></option>
													</t>
												</datalist>
											</td>
										</tr>
										<tr><td></td></tr>
						                <tr><td>Occupied Rooms : </td><td><t t-esc="session.rooms_occupied" /></td></tr>
						                <tr><td>Maintenance Rooms : </td><td><t t-esc="session.rooms_blocked" /></td></tr> 
						    		</tbody>
				         		</table>
				    		</td>
		       			</tr> 
		              	<tr class="session_tr_height"></tr> 
			       		<t t-if="session.cash_control == true">  
							<tr>
				    			<td>   
					         		<table class="session-group text3">
						     			<tbody> 
							          		<tr><td>Opening Balance :</td><td><t t-esc="widget.format_currency(session.cash_register_balance_start)" /></td></tr>
							           		<t t-if="session.is_admin ==1">
								          		<tr><td>+ Transactions  :</td><td><t t-esc="widget.format_currency(session.cash_register_total_entry_encoding)" /></td></tr>
								             	<tr><td>= Theoretical Closing Balance : </td><td><t t-esc="widget.format_currency(session.cash_register_balance_end)" /></td></tr>
							               </t>
						        		</tbody>
					        		</table>
					     		</td>
						   		<td>   
					         		<table class="session-group text4">
						     			<tbody>
						      				<t t-if="session.is_admin ==1">
						                   		<tr><td> Real Closing Balance :</td><td><t t-esc="widget.format_currency(session.cash_register_balance_end_real)" /></td></tr>
						              		</t>
						         		</tbody>
					         		</table>
					    		</td>
				     		</tr> 
				        	<tr>
				     			<td></td>
				             	<td>
					           		<t t-if="session.is_admin ==1">
						  				<table class="session-group text5">
							    			<tbody>			                      
							           			<tr><td> Difference :</td><td><t t-esc="widget.format_currency(session.cash_register_difference)" /></td></tr>	
							         		</tbody>
						          		</table>
					      			</t>
				         		</td>
				     		</tr>
			         	</t>  
		     		</tbody>
		    	</table>
		   	</div>    
		</t>                 	                      	                                              		                       
	</t>
    
	<t t-name="SessionScreenWidget">
		<div class="sessionscreen clientlist-screen screen">
	 		<div class="screen-content">
	 			<section class="top-content">   
		  			<span class='button back'>
		    			<i class='fa fa-angle-double-left'></i>
		                    Back
		            </span> 
	     		</section>
	    		<section class="full-content">
	       			<div class='window'>
	         			<div class="session-data-contents"></div>             
	        		</div>
	      		</section>
			</div>
		</div>
    </t>
    
</templates>
